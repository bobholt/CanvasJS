<!DOCTYPE html>
<html class="no-js">
    <head>
        <meta charset="utf-8">
        <title>CanvasJS Demo</title>
    </head>
    <body>
      <canvas id="demo" height="500" width="960">
      </canvas>

<script src="../Canvas.js"></script>
<script>
(function(){
  var ctx = Canvas("demo");  
  ctx.fillStyle("#003366");                     
  var x,y,angle,level = 0;             
  function init(){  
    angle = 90;                  
    x = 170;  
    y = 100;  
    if (level > 5) {  
      level = 0;  
    }   
    ctx.save()
       .beginPath()
       .clearRect(0, 0, 960, 500)
       .translate(-level*10, 0)
       .moveTo(x, y);       
    drawKochCurve(level, 200);  
    angle += 120;  
    drawKochCurve(level, 200);  
    angle += 120;  
    drawKochCurve(level, 200);     
    ctx.closePath()
       .fill()
       .restore();  
    level++;                
  }  
  
  //Recursive implementation            
  var drawKochCurve = function(level, sideLength) {  
    if (level < 1) {  
      draw(sideLength);      
    }  
    else {  
      drawKochCurve(level - 1, sideLength / 3);  
      angle -= 45;  
      drawKochCurve(level - 1, sideLength / 3);  
      angle += 90;  
      drawKochCurve(level - 1, sideLength / 3);  
      angle -= 45;  
      drawKochCurve(level - 1, sideLength / 3);                      
    }                  
  };             
              
  var draw = function(sideLength) {                  
    x += sideLength * Math.sin(angle * Math.PI/180);  
    y -= sideLength * Math.cos(angle * Math.PI/180);                  
    ctx.lineTo(x, y);  
  };  

              
  function animate(){                  
    setInterval(init, 1000);                
  };              
       
 return {
  animate : animate
 }})().animate();



</script>
    </body>
</html>